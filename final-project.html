<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>
    <title>Final Project</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.4.13/p5.js"></script>
    <script>
        var time = [];
        var counting = [];
        var condition1;
        var condition2;
        var ballX;
        var ballY;
        var gameOver;
        var obstacle1;
        var obstacle2;
        var obstacle3;
        var obstacle4;
        var obstacle5;
        var obstacle6;
        var obstacle7;
        var obstacle8;
        var obstacle9;
        var obstacle10;
        var obstacle11;
        var obstacle12;
        var obstacle13;
        var obstacle14;
        var obstacle15;
        var obstacle16;
        var obstacle17;
        var obstacle18;
        var obstacle19;
        var obstacle20;
        var object1;
        var object2;
        var object3;
        var object4;
        var object5;
        var rectY;
        var rectSpeed;


        function setup() {
            createCanvas(600, 600);
            fill(0);
            rectSpeed = 5.2;
            rectY = 50;
            obstacle1 = new Obstacle(50, 0, 50, 550); //Walls
            obstacle2 = new Obstacle(100, 500, 350, 50); //Walls
            obstacle3 = new Obstacle(500, 300, 50, 300); //Walls
            obstacle4 = new Obstacle(150, 300, 350, 50); //Walls
            obstacle5 = new Obstacle(400, 400, 50, 100); //Walls
            obstacle6 = new Obstacle(300, 350, 50, 100); //Walls
            obstacle7 = new Obstacle(150, 400, 100, 50); //Walls
            obstacle8 = new Obstacle(300, 100, 50, 200); //Walls
            obstacle9 = new Obstacle(100, 200, 150, 50); //Walls
            obstacle10 = new Obstacle(150, 100, 150, 50); //Walls
            obstacle11 = new Obstacle(400, 50, 50, 230); //Walls
            obstacle12 = new Obstacle(500, 150, 10, 50); //Walls
            obstacle13 = new Obstacle(500, 100, 100, 10); //Walls
            obstacle14 = new Obstacle(150, 50, 10, 50); //Walls
            obstacle15 = new Obstacle(150, 45, 50, 10); //Walls
            obstacle16 = new Obstacle(230, 0, 10, 50); //Walls
            obstacle17 = new Obstacle(230, 45, 120, 10); //Walls
            obstacle18 = new Obstacle(500, 250, 10, 100); //Walls
            obstacle19 = new Obstacle(450, 50, 100, 10); //Walls
            obstacle20 = new Obstacle(500, 200, 80, 10); //Walls
            object1 = new Object(0, 550, 50, 50); //Moving objects
            object2 = new Objecta(100, 450, 50, 50); //Moving objects
            object3 = new Objectb(250, 100, 50, 50); //Moving objects
            object4 = new Objectc(250, 350, 50, 50); //Moving objects
            object5 = new Objectd(450, 250, 50, 50); //Moving objects
        }

        function draw() {
            mouseX = constrain(mouseX, 15, 575);
            mouseY = constrain(mouseY, 15, 575);
            background(200);
            fill(0, 0, 0, 0); //-------------------Makes the shape invisible.
            stroke(0, 0, 0, 0); //Makes the shape invisible.
            rect(50, rectY, 50, 50); //A rectangle running to record time
            rectY += rectSpeed; //Makes the rectangle moving up and down the map.
            if (rectY > 600 || rectY < 0) { // counting the time in seconds.
                rectSpeed *= -1;
                time.push(1, 1);
            } //-----------------------------------
            fill(255, 255, 0, 255); //color
            stroke(255, 255, 0, 255); //color of stroke
            rect(550, 550, 50, 50); //goal
            fill(255, 255, 255, 255); //color
            stroke(255, 255, 255, 255); //color of stroke
            rect(0, 0, 50, 50); // start line
            fill(0); //color
            stroke(0); //color of stroke
            drawBall(); //ball gets drawn
            obstacle1.checkCollide(); //function
            obstacle1.display();
            // rect(50, 0, 50, 550); // vertical wall next to the starting line
            obstacle2.checkCollide();
            obstacle2.display();
            // rect(100, 500, 350, 50); // horizontal wall above the edge
            obstacle3.checkCollide();
            obstacle3.display();
            // rect(500, 300, 50, 300); // vertical wall next to the goal
            obstacle4.checkCollide();
            obstacle4.display();
            // rect(150, 300, 350, 50); //horizontal wall
            obstacle5.checkCollide();
            obstacle5.display();
            // rect(400, 400, 50, 100); //vertical wall
            obstacle6.checkCollide();
            obstacle6.display();
            // rect(300, 350, 50, 100); //vertical wall
            obstacle7.checkCollide();
            obstacle7.display();
            // rect(150, 400, 100, 50); //vertical wall
            obstacle8.checkCollide();
            obstacle8.display();
            // rect(300, 100, 50, 200); //vertical wall
            obstacle9.checkCollide();
            obstacle9.display();
            // rect(100, 200, 150, 50); //horizontal wall
            obstacle10.checkCollide();
            obstacle10.display();
            // rect(150, 100, 150, 50); //horizontal wall
            obstacle11.checkCollide();
            obstacle11.display();
            // rect(400, 50, 50, 230); //vertical wall
            obstacle12.checkCollide();
            obstacle12.display();
            // rect(500, 150, 10, 50); //horizontal wall
            obstacle13.checkCollide();
            obstacle13.display();
            // rect(500, 100, 100, 10); //vertical wall
            obstacle14.checkCollide();
            obstacle14.display();
            // rect(150, 50, 10, 50); //vertical wall
            obstacle15.checkCollide();
            obstacle15.display();
            // rect(150, 45, 50, 10); //horizontal wall
            obstacle16.checkCollide();
            obstacle16.display();
            // rect(230, 0, 10, 50); //vertical wall
            obstacle17.checkCollide();
            obstacle17.display();
            // rect(230, 45, 120, 10); //horizontal wall
            obstacle18.checkCollide();
            obstacle18.display();
            // rect(500, 250, 10, 100); //vertical wall
            obstacle19.checkCollide();
            obstacle19.display();
            // rect(450, 50, 100, 10); //horizontal wall
            obstacle20.checkCollide();
            obstacle20.display();
            // rect(500, 200, 71, 10); // //horizontal wall
            object1.checkCollide(); //function
            object1.display();
            object1.move();
            object2.checkCollide(); //function
            object2.display();
            object2.move();
            object3.checkCollide(); //function
            object3.display();
            object3.move();
            object4.checkCollide(); //function
            object4.display();
            object4.move();
            object5.checkCollide(); //function
            object5.display();
            object5.move();
            if (ballX > 550 && ballX < 600 && ballY > 550 && ballY < 600) {
                background(255); //background color
                textSize(54); //sixe of letters
                text("Clear", 210, 250); //says text "Clear" in that size
                text("Time Spent:  " + time.length + "sec", 100, 350);
                noLoop();

            }
        }

        function drawBall() { //Draws the circle
            ballX = mouseX; //sets ballX the same as mouseX
            ballY = mouseY; //sets ballY the same as mouseY
            ballW = 25; //sets the width of the ball to 25.
            ballH = 25; //sets the height of the ball to 25.
            fill(255, 0, 0); //changes the color of the ball to red.
            stroke(255, 0, 0); //changes the stroke of the ball to red.
            ellipse(ballX, ballY, ballW, ballH); //Draws an actual circle.
        }

        function Obstacle(x, y, w, h) { // Used to create walls 
            this.x = x; //sets this.x the same as x.
            this.y = y; //sets this.y the same as y.
            this.w = w; //sets this.w the same as w.
            this.h = h; //sets this.h the same as h.
            this.display = function() { //draw the rectangular walls
                fill(0); //color
                stroke(0); //color of stroke
                rect(this.x, this.y, this.w, this.h); //draw the actual shape
            }
            this.checkCollide = function() { //check if the ball and the wall is touching or not.
                if (mouseX + 10 > this.x && mouseX - 10 < this.x + this.w && mouseY - 10 < this.y + this.h && mouseY + 10 > this.y) { // a condition
                    background(0);
                    fill(255);
                    textSize(24);
                    text("Game Over", 245, 500);
                    noLoop();
                }
            }
        }

        function Object(x, y, w, h) {
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.speed = 1.5;
            this.display = function() {
                fill(0);
                stroke(0);
                rect(this.x, this.y, this.w, this.h);
                fill(255);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 3, this.h / 3);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 3, this.h / 3);
                rect(this.x + this.w / 5, this.y + this.h / 1.5, 30, 5);
                fill(0);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 6, this.h / 6);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 6, this.h / 6);
            }
            this.move = function() {
                this.x += this.speed;
                if (this.x > width - 100 || this.x < 0) {
                    this.speed *= -1;
                }
            }
            this.checkCollide = function() {
                if (mouseX + 10 > this.x && mouseX - 10 < this.x + this.w && mouseY - 10 < this.y + this.h && mouseY + 10 > this.y) {
                    background(0);
                    fill(255);
                    textSize(24);
                    text("Game Over", 245, 500);
                    noLoop();
                }
            }
        }

        function Objecta(x, y, w, h) {
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.speed = 1.7;
            this.display = function() {
                fill(0);
                stroke(0);
                rect(this.x, this.y, this.w, this.h);
                fill(255);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 3, this.h / 3);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 3, this.h / 3);
                rect(this.x + this.w / 5, this.y + this.h / 1.5, 30, 5);
                fill(0);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 6, this.h / 6);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 6, this.h / 6);
            }
            this.move = function() {
                this.y += this.speed;
                if (this.y > height - 100 || this.y < 200) {
                    this.speed *= -1;
                }
            }
            this.checkCollide = function() {
                if (mouseX + 10 > this.x && mouseX - 10 < this.x + this.w && mouseY - 10 < this.y + this.h && mouseY + 10 > this.y) {
                    background(0);
                    fill(255);
                    textSize(24);
                    text("Game Over", 245, 500);
                    noLoop();
                }
            }
        }

        function Objectb(x, y, w, h) {
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.speed = 1;
            this.display = function() {
                fill(0);
                stroke(0);
                rect(this.x, this.y, this.w, this.h);
                fill(255);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 3, this.h / 3);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 3, this.h / 3);
                rect(this.x + this.w / 5, this.y + this.h / 1.5, 30, 5);
                fill(0);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 6, this.h / 6);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 6, this.h / 6);
            }
            this.move = function() {
                this.y += this.speed;
                if (this.y > height - 300 || this.y < 100) {
                    this.speed *= -1;
                }
            }
            this.checkCollide = function() {
                if (mouseX + 10 > this.x && mouseX - 10 < this.x + this.w && mouseY - 10 < this.y + this.h && mouseY + 10 > this.y) {
                    background(0);
                    fill(255);
                    textSize(24);
                    text("Game Over", 245, 500);
                    noLoop();
                }
            }
        }

        function Objectc(x, y, w, h) {
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.speed = 1;
            this.display = function() {
                fill(0);
                stroke(0);
                rect(this.x, this.y, this.w, this.h);
                fill(255);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 3, this.h / 3);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 3, this.h / 3);
                rect(this.x + this.w / 5, this.y + this.h / 1.5, 30, 5);
                fill(0);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 6, this.h / 6);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 6, this.h / 6);
            }
            this.move = function() {
                this.y += this.speed;
                if (this.y > height - 200 || this.y < 300) {
                    this.speed *= -1;
                }
            }
            this.checkCollide = function() {
                if (mouseX + 10 > this.x && mouseX - 10 < this.x + this.w && mouseY - 10 < this.y + this.h && mouseY + 10 > this.y) {
                    background(0);
                    fill(255);
                    textSize(24);
                    text("Game Over", 245, 500);
                    noLoop();
                }
            }
        }

        function Objectd(x, y, w, h) {
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.speed = 1;
            this.display = function() {
                fill(0);
                stroke(0);
                rect(this.x, this.y, this.w, this.h);
                fill(255);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 3, this.h / 3);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 3, this.h / 3);
                rect(this.x + this.w / 5, this.y + this.h / 1.5, 30, 5);
                fill(0);
                ellipse(this.x + this.w / 3, this.y + this.h / 3, this.w / 6, this.h / 6);
                ellipse(this.x + this.w / 1.5, this.y + this.h / 3, this.w / 6, this.h / 6);
            }
            this.move = function() {
                this.y += this.speed;
                if (this.y > height - 300 || this.y < 50) {
                    this.speed *= -1;
                }
            }
            this.checkCollide = function() {
                if (mouseX + 10 > this.x && mouseX - 10 < this.x + this.w && mouseY - 10 < this.y + this.h && mouseY + 10 > this.y) {
                    background(0);
                    fill(255);
                    textSize(24);
                    text("Game Over", 245, 500);
                    noLoop();
                }
            }
        }

        function mousePressed() {
            for (var i = 0; i <= 10; i++) { //Loop
                counting.push()
            }
        }
        // --------------------------------
        // if (ballX > 0 && ballX < 600 && ballY > 0 && ballX < 600) {
        //         ballX = mouseX;
        //         ballY = mouseY;
        //     }
        // this.move = function(){
        //         if(vertical = true){
        //             this.x += 10;
        //         }
        //         else if(vertical = false){
        //                 thix.y += 10;
        //             }
        //   }
        // if (mouseX > this.x && mouseX < this.x + this.w && mouseY < this.y + this.h && mouseY > this.y) {
        //     noLoop();
        // }
    </script>
</head>

<body>
<form><input TYPE="button" onClick="history.go(0)" value="Reset"></form>
</body>

</html>
